var lightBot={};(function(){lightBot.directions={se:0,ne:1,nw:2,sw:3}})();(function(){lightBot.bot={startingPos:{x:0,y:0},currentPos:{x:0,y:0},startingDirection:lightBot.directions.se,direction:lightBot.directions.se,instructionQueue:[],executionQueue:[],executionMode:false,init:function(b,a){this.startingPos=$.extend({},a);this.currentPos=a;this.direction=this.startingDirection=b;this.reset()},reset:function(){this.currentPos=$.extend({},this.startingPos);this.direction=this.startingDirection;this.instructionQueue.length=0;this.executionQueue.length=0;this.executionMode=
false},clearExecutionQueue:function(){this.executionQueue.length=0},queueInstruction:function(b){this.instructionQueue.push(b)},queueInstructions:function(b){this.instructionQueue=this.instructionQueue.concat(b)},hasNextInstruction:function(){return this.executionQueue.length>0},execute:function(){this.executionMode=true;this.executionQueue=this.instructionQueue.slice()},executeNextInstruction:function(){if(this.executionQueue.length>0){var b=this.executionQueue.shift();switch(b.name){case lightBot.bot.instructions.WalkInstruction.instructionName:this.walk();
break;case lightBot.bot.instructions.JumpInstruction.instructionName:this.jump();break;case lightBot.bot.instructions.LightInstruction.instructionName:this.light();break;case lightBot.bot.instructions.TurnLeftInstruction.instructionName:this.turnLeft();break;case lightBot.bot.instructions.TurnRightInstruction.instructionName:this.turnRight();break;case lightBot.bot.instructions.RepeatInstruction.instructionName:b.counter>1&&(b.counter--,this.executionQueue.unshift(b));for(var a=b.body.length-1;a>=
0;a--)this.executionQueue.unshift($.extend(true,{},b.body[a]));return this.executeNextInstruction();default:console.error('Bot executeNextInstruction: unknown instruction "'+b.name+'"')}return b}else return console.error("Bot executeNextInstruction: no instruction to execute"),null},walk:function(){switch(this.direction){case lightBot.directions.se:this.currentPos.y>0&&lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y].height===lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y-
1].height&&this.currentPos.y--;break;case lightBot.directions.ne:this.currentPos.x+1<lightBot.map.getLevelSize().x&&lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y].height===lightBot.map.getMapRef()[this.currentPos.x+1][this.currentPos.y].height&&this.currentPos.x++;break;case lightBot.directions.nw:this.currentPos.y+1<lightBot.map.getLevelSize().y&&lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y].height===lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y+1].height&&
this.currentPos.y++;break;case lightBot.directions.sw:this.currentPos.x>0&&lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y].height===lightBot.map.getMapRef()[this.currentPos.x-1][this.currentPos.y].height&&this.currentPos.x--;break;default:console.error('Bot walk: unknown direction "'+this.direction+'"')}},jump:function(){switch(this.direction){case lightBot.directions.se:this.currentPos.y>0&&(lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y-1].height-lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y].height===
1||lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y].height>lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y-1].height)&&this.currentPos.y--;break;case lightBot.directions.ne:this.currentPos.x+1<lightBot.map.getLevelSize().x&&(lightBot.map.getMapRef()[this.currentPos.x+1][this.currentPos.y].height-lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y].height===1||lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y].height>lightBot.map.getMapRef()[this.currentPos.x+
1][this.currentPos.y].height)&&this.currentPos.x++;break;case lightBot.directions.nw:this.currentPos.y+1<lightBot.map.getLevelSize().y&&(lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y+1].height-lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y].height===1||lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y].height>lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y+1].height)&&this.currentPos.y++;break;case lightBot.directions.sw:this.currentPos.x>0&&
lightBot.map.getLevelSize().x&&(lightBot.map.getMapRef()[this.currentPos.x-1][this.currentPos.y].height-lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y].height===1||lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y].height>lightBot.map.getMapRef()[this.currentPos.x-1][this.currentPos.y].height)&&this.currentPos.x--;break;default:console.error("Bot is facing unknown direction")}},light:function(){var b=lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y];b instanceof
lightBot.LightBox&&b.toggleLight()},turnLeft:function(){this.direction=(this.direction+1)%4},turnRight:function(){this.direction--;if(this.direction<0)this.direction=3},isInExecutionMode:function(){return this.executionMode},getNumberOfInstructions:function(){function b(a){for(var f=0,c=0;c<a.length;c++)f++,a[c]instanceof lightBot.bot.instructions.RepeatInstruction&&(f+=b(a[c].body));return f}return b(this.instructionQueue)}}})();(function(){function b(a){this.name=a}var a={WalkInstruction:function(){}};a.WalkInstruction.instructionName="walk";a.WalkInstruction.prototype=new b(a.WalkInstruction.instructionName);a.WalkInstruction.prototype.constructor=a.WalkInstruction;a.JumpInstruction=function(){};a.JumpInstruction.instructionName="jump";a.JumpInstruction.prototype=new b(a.JumpInstruction.instructionName);a.JumpInstruction.prototype.constructor=a.JumpInstruction;a.LightInstruction=function(){};a.LightInstruction.instructionName=
"light";a.LightInstruction.prototype=new b(a.LightInstruction.instructionName);a.LightInstruction.prototype.constructor=a.LightInstruction;a.TurnLeftInstruction=function(){};a.TurnLeftInstruction.instructionName="turnLeft";a.TurnLeftInstruction.prototype=new b(a.TurnLeftInstruction.instructionName);a.TurnLeftInstruction.prototype.constructor=a.TurnLeftInstruction;a.TurnRightInstruction=function(){};a.TurnRightInstruction.instructionName="turnRight";a.TurnRightInstruction.prototype=new b(a.TurnRightInstruction.instructionName);
a.TurnRightInstruction.prototype.constructor=a.TurnRightInstruction;a.RepeatInstruction=function(a,c){this.counter=a;this.body=c};a.RepeatInstruction.instructionName="repeat";a.RepeatInstruction.prototype=new b(a.RepeatInstruction.instructionName);a.RepeatInstruction.prototype.constructor=a.RepeatInstruction;a.WhileInstruction=function(a,c){this.condition=a;this.body=c};a.WhileInstruction.instructionName="while";a.WhileInstruction.prototype=new b(a.WhileInstruction.instructionName);a.WhileInstruction.prototype.constructor=
a.WhileInstruction;lightBot.bot.instructions=a})();(function(){var b={},a=[{direction:0,position:{x:4,y:5},map:[[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],
[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}]],medals:{gold:3,silver:4,bronze:5}},{direction:0,position:{x:2,
y:5},map:[[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"l"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,
t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"l"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}]],medals:{gold:5,silver:7,bronze:11}},{direction:0,position:{x:4,y:6},map:[[{h:4,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,
t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:4,t:"b"}],[{h:3,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:4,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],
[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:3,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"}],[{h:4,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:4,t:"b"}]],medals:{gold:6,silver:8,bronze:11}},{direction:0,position:{x:4,y:7},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},
{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},
{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:4,silver:5,bronze:6}},{direction:1,position:{x:1,y:5},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},
{h:3,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"l"},{h:1,t:"b"}]],medals:{gold:7,silver:8,bronze:11}},{direction:0,
position:{x:2,y:4},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:6,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:5,t:"b"},
{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:4,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:7,silver:10,bronze:13}},{direction:1,position:{x:1,y:5},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},
{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:4,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:5,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:3,t:"l"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,
t:"b"},{h:3,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:10,silver:17,bronze:22}},{direction:1,position:{x:1,y:3},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,
t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:5,t:"b"},{h:5,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:4,t:"b"},{h:5,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"l"},{h:1,t:"b"},{h:1,
t:"b"}]],medals:{gold:16,silver:25,bronze:26}},{direction:0,position:{x:4,y:7},map:[[{h:3,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:3,t:"b"}],[{h:3,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,
t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}]],medals:{gold:3,silver:14,bronze:15}},{direction:0,
position:{x:4,y:7},map:[[{h:3,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:3,t:"b"}],[{h:3,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:4,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},
{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:4,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}]],medals:{gold:3,silver:7,bronze:13}},{direction:0,position:{x:4,y:7},map:[[{h:2,t:"b"},{h:1,t:"b"},
{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"l"},{h:1,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"l"},{h:1,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"l"},{h:1,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"l"},{h:1,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},
{h:1,t:"l"},{h:1,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"l"},{h:1,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"l"},{h:1,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:7,silver:9,bronze:11}},{direction:0,position:{x:1,y:7},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"l"},{h:2,t:"l"},{h:1,t:"l"},{h:2,t:"l"},{h:3,t:"b"}],[{h:1,t:"b"},{h:1,t:"l"},{h:2,t:"l"},{h:1,t:"l"},{h:2,t:"l"},{h:1,t:"l"},
{h:2,t:"l"},{h:3,t:"b"}],[{h:1,t:"b"},{h:1,t:"l"},{h:2,t:"l"},{h:1,t:"l"},{h:2,t:"l"},{h:1,t:"l"},{h:2,t:"l"},{h:3,t:"b"}],[{h:1,t:"b"},{h:1,t:"l"},{h:2,t:"l"},{h:1,t:"l"},{h:2,t:"l"},{h:1,t:"l"},{h:2,t:"l"},{h:3,t:"b"}],[{h:1,t:"b"},{h:1,t:"l"},{h:2,t:"l"},{h:1,t:"l"},{h:2,t:"l"},{h:1,t:"l"},{h:2,t:"l"},{h:3,t:"b"}],[{h:1,t:"b"},{h:1,t:"l"},{h:2,t:"l"},{h:1,t:"l"},{h:2,t:"l"},{h:1,t:"l"},{h:2,t:"l"},{h:3,t:"b"}],[{h:1,t:"b"},{h:1,t:"l"},{h:2,t:"l"},{h:1,t:"l"},{h:2,t:"l"},{h:1,t:"l"},{h:2,t:"l"},
{h:3,t:"b"}],[{h:1,t:"b"},{h:1,t:"l"},{h:2,t:"l"},{h:1,t:"l"},{h:2,t:"l"},{h:1,t:"l"},{h:2,t:"l"},{h:3,t:"b"}]],medals:{gold:13,silver:33,bronze:104}},{direction:0,position:{x:1,y:6},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},
{h:2,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:11,silver:29,bronze:29}},
{direction:1,position:{x:1,y:5},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"l"},{h:2,t:"b"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:2,t:"b"},{h:2,t:"l"},{h:2,t:"b"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:2,t:"b"},
{h:2,t:"l"},{h:2,t:"b"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:7,silver:24,bronze:28}},{direction:1,position:{x:1,y:4},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:5,t:"l"},{h:4,t:"l"},{h:3,t:"l"},{h:2,t:"l"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:4,t:"l"},{h:1,t:"b"},{h:1,t:"b"},
{h:3,t:"l"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:4,t:"l"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"l"},{h:3,t:"l"},{h:4,t:"l"},{h:5,t:"l"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:4,t:"l"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:4,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"l"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},
{h:1,t:"b"},{h:5,t:"l"},{h:4,t:"l"},{h:3,t:"l"},{h:2,t:"l"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:13,silver:16,bronze:26}},{direction:1,position:{x:1,y:3},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:3,t:"b"},{h:3,t:"l"},
{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:3,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:10,silver:32,bronze:43}},{direction:0,position:{x:3,y:6},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},
{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:4,t:"b"},{h:4,t:"l"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},
{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:8,silver:14,bronze:20}},{direction:1,position:{x:1,y:5},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},
{h:3,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},
{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:9,silver:16,bronze:24}},{direction:0,position:{x:2,y:6},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"l"},
{h:2,t:"b"},{h:3,t:"l"},{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,
t:"b"}]],medals:{gold:11,silver:20,bronze:30}},{direction:0,position:{x:1,y:6},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:4,t:"l"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},
{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:12,silver:22,bronze:32}},{direction:1,position:{x:3,y:3},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},
{h:3,t:"l"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:4,t:"l"},{h:5,t:"l"},{h:4,t:"l"},{h:4,t:"b"},{h:3,t:"b"},{h:2,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],
[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:13,silver:26,bronze:38}},{direction:0,position:{x:2,y:6},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},
{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"l"},{h:1,t:"b"},{h:4,t:"l"},{h:1,t:"b"},{h:3,t:"l"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:14,silver:28,bronze:42}},{direction:1,
position:{x:1,y:5},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:3,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:4,t:"l"},{h:4,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"},
{h:4,t:"b"},{h:4,t:"b"},{h:4,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:15,silver:30,bronze:45}},{direction:0,position:{x:4,y:7},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},
{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"l"},{h:1,t:"b"},{h:4,t:"l"},{h:1,t:"b"},{h:3,t:"l"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:2,
t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:16,silver:32,bronze:48}},{direction:1,position:{x:2,y:3},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,
t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:4,t:"l"},{h:4,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:5,t:"l"},{h:3,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:4,t:"l"},{h:4,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:2,
t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:18,silver:36,bronze:54}},{direction:0,position:{x:3,y:6},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"l"},{h:2,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,
t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"l"},{h:1,t:"b"},{h:4,t:"l"},{h:1,t:"b"},{h:3,t:"l"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"l"},{h:2,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},
{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:19,silver:38,bronze:57}},{direction:0,position:{x:4,y:7},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:5,t:"b"},{h:4,t:"l"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:5,t:"b"},{h:4,t:"l"},
{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:5,t:"b"},{h:4,t:"l"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:4,silver:10,
bronze:20}},{direction:1,position:{x:1,y:6},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:4,t:"l"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:5,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},
{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:4,t:"l"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:20,silver:40,bronze:60}},{direction:0,position:{x:4,y:8},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],
[{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},
{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:3,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:5,silver:16,bronze:32}},{direction:1,position:{x:1,y:4},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},
{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:5,t:"l"},{h:4,t:"b"},{h:3,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:4,t:"b"},{h:5,t:"l"},{h:6,t:"l"},{h:5,t:"l"},{h:4,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:5,t:"l"},{h:4,t:"b"},{h:3,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},
{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:12,silver:20,bronze:30}},{direction:0,position:{x:1,y:7},map:[[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"},
{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],
medals:{gold:6,silver:18,bronze:36}},{direction:0,position:{x:2,y:0},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:4,t:"b"},{h:4,t:"b"},{h:3,t:"b"},{h:2,t:"b"},
{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:5,t:"l"},{h:4,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:4,t:"l"},{h:4,t:"l"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},
{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:14,silver:28,bronze:42}},{direction:0,position:{x:4,y:7},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:3,t:"b"},
{h:4,t:"b"},{h:4,t:"b"},{h:4,t:"b"},{h:3,t:"b"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:3,t:"b"},{h:4,t:"b"},{h:5,t:"b"},{h:4,t:"b"},{h:3,t:"b"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:3,t:"b"},{h:4,t:"b"},{h:4,t:"b"},{h:4,t:"b"},{h:3,t:"b"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:1,
t:"b"}]],medals:{gold:7,silver:28,bronze:56}},{direction:1,position:{x:1,y:6},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:4,t:"l"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:5,t:"b"},{h:5,t:"b"},{h:4,t:"l"},{h:3,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:4,t:"l"},{h:5,t:"b"},{h:6,t:"l"},{h:6,t:"l"},{h:5,t:"b"},{h:4,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:4,t:"l"},{h:5,
t:"b"},{h:6,t:"l"},{h:6,t:"l"},{h:5,t:"b"},{h:4,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:5,t:"b"},{h:5,t:"b"},{h:4,t:"l"},{h:3,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:4,t:"l"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:15,silver:30,bronze:45}},{direction:0,position:{x:1,y:7},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,
t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:3,t:"l"},{h:4,t:"l"},{h:5,t:"l"},{h:4,t:"l"},{h:3,t:"l"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:4,t:"l"},{h:3,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:5,t:"l"},{h:4,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:5,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:4,
t:"l"},{h:3,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:3,t:"l"},{h:4,t:"l"},{h:5,t:"l"},{h:4,t:"l"},{h:3,t:"l"},{h:2,t:"l"},{h:1,t:"b"}]],medals:{gold:10,silver:32,bronze:64}},{direction:1,position:{x:2,y:5},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,
t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:4,t:"b"},{h:4,t:"b"},{h:4,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:4,t:"b"},{h:5,t:"b"},{h:4,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:4,t:"b"},{h:4,t:"b"},{h:4,t:"b"},
{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:11,silver:20,bronze:40}},{direction:0,position:{x:4,y:8},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},
{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:3,t:"l"},{h:4,t:"b"},{h:3,t:"l"},{h:4,t:"b"},{h:3,t:"l"},{h:4,t:"b"},{h:3,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:3,t:"l"},{h:4,t:"b"},{h:3,t:"l"},{h:4,t:"b"},{h:3,t:"l"},{h:4,t:"b"},{h:3,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},
{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:3,t:"l"},{h:4,t:"b"},{h:3,t:"l"},{h:4,t:"b"},{h:3,t:"l"},{h:4,t:"b"},{h:3,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:12,silver:36,bronze:72}},{direction:1,position:{x:1,y:4},map:[[{h:1,
t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:4,t:"b"},{h:4,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:5,t:"l"},{h:4,t:"b"},
{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:5,t:"l"},{h:5,t:"l"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:4,t:"l"},{h:5,t:"l"},{h:5,t:"l"},{h:4,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:3,t:"l"},{h:4,t:"l"},{h:5,t:"l"},{h:5,t:"l"},{h:4,t:"l"},{h:3,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:16,silver:32,
bronze:48}},{direction:0,position:{x:4,y:7},map:[[{h:3,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:3,t:"b"}],[{h:3,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:3,t:"b"}],[{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"l"},{h:3,t:"b"},{h:2,t:"l"},{h:3,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"b"}],[{h:1,t:"b"},
{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"l"},{h:3,t:"l"},{h:2,t:"l"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"l"},{h:3,t:"b"},{h:2,t:"l"},{h:3,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"l"},{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"}],[{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"}]],medals:{gold:18,silver:36,bronze:54}},{direction:1,position:{x:1,y:5},map:[[{h:1,
t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:3,t:"l"},{h:4,t:"l"},{h:4,t:"l"},{h:4,t:"l"},{h:3,t:"l"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:3,t:"l"},{h:4,t:"l"},{h:5,t:"b"},{h:4,t:"l"},
{h:3,t:"l"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:3,t:"l"},{h:4,t:"l"},{h:4,t:"l"},{h:4,t:"l"},{h:3,t:"l"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:21,silver:63,
bronze:126}},{direction:0,position:{x:2,y:0},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:3,t:"l"},{h:4,t:"l"},{h:4,t:"l"},{h:4,t:"l"},{h:3,t:"l"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},
{h:2,t:"l"},{h:3,t:"l"},{h:4,t:"l"},{h:5,t:"b"},{h:4,t:"l"},{h:3,t:"l"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:3,t:"l"},{h:4,t:"l"},{h:4,t:"l"},{h:4,t:"l"},{h:3,t:"l"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:3,t:"l"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:2,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,
t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:14,silver:28,bronze:42}},{direction:1,position:{x:2,y:4},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:3,t:"b"},{h:3,t:"l"},{h:3,t:"b"},{h:3,t:"l"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,
t:"b"},{h:4,t:"l"},{h:3,t:"b"},{h:4,t:"l"},{h:3,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:3,t:"b"},{h:3,t:"l"},{h:3,t:"b"},{h:3,t:"l"},{h:4,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:3,t:"b"},{h:4,t:"l"},{h:4,t:"l"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:3,t:"b"},{h:3,t:"l"},{h:4,t:"l"},{h:3,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"l"},
{h:4,t:"l"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:23,silver:46,bronze:69}},{direction:0,position:{x:4,y:7},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],
[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:4,t:"l"},{h:5,t:"l"},{h:4,t:"l"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:4,t:"l"},{h:5,t:"l"},{h:4,t:"l"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:3,t:"l"},{h:4,t:"b"},{h:5,t:"b"},{h:6,t:"b"},{h:5,t:"b"},{h:4,t:"b"},{h:3,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:4,t:"l"},{h:5,t:"b"},{h:6,t:"b"},{h:7,t:"b"},{h:6,t:"b"},{h:5,t:"b"},{h:4,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:5,t:"l"},{h:6,t:"b"},{h:7,t:"b"},{h:8,t:"l"},
{h:7,t:"b"},{h:6,t:"b"},{h:5,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:4,t:"l"},{h:5,t:"b"},{h:6,t:"b"},{h:7,t:"b"},{h:6,t:"b"},{h:5,t:"b"},{h:4,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:3,t:"l"},{h:4,t:"b"},{h:5,t:"b"},{h:6,t:"b"},{h:5,t:"b"},{h:4,t:"b"},{h:3,t:"l"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:4,t:"l"},{h:5,t:"l"},{h:4,t:"l"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:5,t:"b"},{h:4,t:"l"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},
{h:2,t:"b"},{h:4,t:"l"},{h:5,t:"b"},{h:6,t:"l"},{h:5,t:"b"},{h:4,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:5,t:"b"},{h:6,t:"l"},{h:7,t:"b"},{h:6,t:"l"},{h:5,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:4,t:"l"},{h:5,t:"b"},{h:6,t:"l"},{h:5,t:"b"},{h:4,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:5,t:"b"},{h:4,t:"l"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,
t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:22,silver:44,bronze:66}},{direction:0,position:{x:4,y:0},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:5,t:"b"},{h:4,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:5,t:"b"},{h:4,
t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:4,t:"l"},{h:5,t:"l"},{h:4,t:"l"},{h:3,t:"l"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:5,t:"b"},{h:4,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:5,t:"b"},{h:4,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:12,
silver:24,bronze:36}},{direction:1,position:{x:1,y:3},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:4,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:5,t:"b"},{h:5,t:"b"},{h:4,t:"l"},{h:3,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:4,t:"b"},{h:5,t:"b"},{h:6,t:"l"},{h:6,t:"l"},{h:5,t:"b"},{h:4,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:4,t:"b"},{h:5,t:"b"},{h:6,t:"l"},{h:6,
t:"l"},{h:5,t:"b"},{h:4,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:5,t:"b"},{h:5,t:"b"},{h:4,t:"l"},{h:3,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"b"},{h:4,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],medals:{gold:17,silver:34,bronze:51}},{direction:0,position:{x:2,y:0},map:[[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,
t:"b"},{h:1,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:4,t:"l"},{h:4,t:"l"},{h:3,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"l"},{h:4,t:"l"},{h:5,t:"l"},{h:4,t:"l"},{h:3,t:"l"},{h:4,t:"l"},{h:2,t:"b"},
{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:4,t:"l"},{h:4,t:"l"},{h:4,t:"l"},{h:3,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:3,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:2,t:"b"},{h:1,t:"b"}],[{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"},{h:1,t:"b"}]],
medals:{gold:16,silver:32,bronze:48}},{direction:0,position:{x:3,y:3},map:[[{h:0,t:"b"},{h:0,t:"b"},{h:0,t:"b"},{h:1,t:"l"}],[{h:0,t:"b"},{h:0,t:"b"},{h:0,t:"b"},{h:0,t:"b"}],[{h:0,t:"b"},{h:0,t:"b"},{h:0,t:"b"},{h:0,t:"b"}],[{h:0,t:"b"},{h:0,t:"b"},{h:0,t:"b"},{h:0,t:"b"}]],medals:{gold:0,silver:0,bronze:0}}],f={x:0,y:0},c=null,d=null,e=null;b.loadMap=function(b){console.log("Loading map level:",b,"Total maps:",a?a.length:0);if(b>=a.length)console.error("Level index out of range:",b,"Max index:",
a.length-1);else if(a){e=b;lightBot.bot.init(a[b].direction,a[b].position);d=a[b].medals;f.x=a[b].map[0].length;f.y=a[b].map.length;c=Array(f.x);for(h=0;h<f.x;h++)c[h]=Array(f.y);var i=0;if(b===30||b===31)console.log("Level",b,"map data (first 500 chars):",JSON.stringify(a[b].map).substring(0,500)),console.log("Level",b,"has",a[b].map.length,"rows");for(var h=0;h<a[b].map.length;h++)for(var j=0;j<a[b].map[h].length;j++)switch(b===30&&a[b].map[h][j].t==="l"&&console.log("Found light at row",h,"col",
j,"height",a[b].map[h][j].h),a[b].map[h][j].t){case "b":c[j][a[b].map.length-h-1]=new lightBot.Box(a[b].map[h][j].h,j,a[b].map.length-h-1);break;case "l":c[j][a[b].map.length-h-1]=new lightBot.LightBox(a[b].map[h][j].h,j,a[b].map.length-h-1);i++;break;default:console.error("Map contains unsupported element: "+a[b].map[h][j].t),c[j][a.map.length-h-1]=new lightBot.Box(a[b].map[h][j].h,j,a[b].map.length-h-1)}console.log("Level",b,"loaded. Number of lights:",i);i===0&&console.error("No light defined in map for level",
b)}else console.error("Map list is empty")};b.loadCommunityMap=function(a,b){if(!a||!a.map||!a.position)console.error("Invalid community map object");else{lightBot.bot.init(a.direction||0,a.position);d=a.medals||{gold:0,silver:0,bronze:0};f.x=a.map[0].length;f.y=a.map.length;c=Array(f.x);var h;for(h=0;h<f.x;h++)c[h]=Array(f.y);var j=0;for(h=0;h<a.map.length;h++)for(var k=0;k<a.map[h].length;k++){var l=a.map[h][k]||{h:0,t:"b"};switch(l.t){case "b":c[k][a.map.length-h-1]=new lightBot.Box(l.h,k,a.map.length-
h-1);break;case "l":c[k][a.map.length-h-1]=new lightBot.LightBox(l.h,k,a.map.length-h-1);j++;break;default:console.error("Community map contains unsupported element: "+l.t),c[k][a.map.length-h-1]=new lightBot.Box(l.h,k,a.map.length-h-1)}}e=null;currentMapSize=f;console.log("Loaded community map:",b||"(unnamed)","Lights:",j)}};b.reset=function(){lightBot.bot.reset();for(var a=0;a<f.x;a++)for(var b=0;b<f.y;b++)c[a][b].reset()};b.ready=function(){return e!==null};b.getLevelSize=function(){return f};
b.getMapRef=function(){return c};b.getMedals=function(){return d};b.getLevelNumber=function(){return e};b.getNbrOfLevels=function(){return a.length};b.getLevelMedals=function(c){return c>=0&&c<a.length?a[c].medals:null};b.complete=function(){e=null};lightBot.map=b})();(function(){lightBot.map.state={allLightsOn:function(){for(var b=0;b<lightBot.map.getLevelSize().x;b++)for(var a=0;a<lightBot.map.getLevelSize().y;a++)if(lightBot.map.getMapRef()[b][a]instanceof lightBot.LightBox&&!lightBot.map.getMapRef()[b][a].lightOn)return false;return true},check:function(b){return b()}}})();(function(){lightBot.Box=function(b,a,f){this.height=b;this.x=a;this.y=f;this.reset=function(){}}})();(function(){function b(a,f,c){this.lightOn=false;this.height=a;this.x=f;this.y=c;this.toggleLight=function(){this.lightOn=!this.lightOn};this.reset=function(){this.lightOn=false}}b.prototype=new lightBot.Box;b.prototype.constructor=b;lightBot.LightBox=b})();(function(){lightBot.medals={gold:4,silver:3,bronze:2,noMedal:1,awardMedal:function(){var b=lightBot.bot.getNumberOfInstructions(),a=lightBot.map.getMedals(),f=this.noMedal;if(b<=a.gold)f=this.gold;else if(b<=a.silver)f=this.silver;else if(b<=a.bronze)f=this.bronze;(!localStorage.getItem("lightbot_level_"+lightBot.map.getLevelNumber())||parseInt(localStorage.getItem("lightbot_level_"+lightBot.map.getLevelNumber()),10)<f)&&localStorage.setItem("lightbot_level_"+lightBot.map.getLevelNumber(),f);return f}}})();(function(){function b(){for(var a=0,c=0;c<lightBot.map.getNbrOfLevels();c++)localStorage.getItem("lightbot_level_"+c)&&a++;return a}function a(a){for(var c=0,b=0;b<lightBot.map.getNbrOfLevels();b++)localStorage.getItem("lightbot_level_"+b)&&parseInt(localStorage.getItem("lightbot_level_"+b),10)>=a&&c++;return c}lightBot.achievements={achievementsList:[{name:"lightbot_achievement_complete_level",title:"Finish Him",message:"Complete a level.",check:function(){return true}},{name:"lightbot_achievement_earn_gold_medal",
title:"Momma's Boy",message:"Earn a gold medal.",check:function(){return lightBot.bot.getNumberOfInstructions()<=lightBot.map.getMedals().gold?true:false}},{name:"lightbot_achievement_complete_levels_5",title:"Ambitious",message:"Complete 5 levels.",check:function(){return b()>=5?true:false}},{name:"lightbot_achievement_complete_levels_10",title:"Dedicated",message:"Complete 10 levels.",check:function(){return b()>=10?true:false}},{name:"lightbot_achievement_complete_levels_15",title:"Addicted",message:"Complete 15 levels.",
check:function(){return b()>=15?true:false}},{name:"lightbot_achievement_complete_levels_20",title:"Master",message:"Complete 20 levels.",check:function(){return b()>=20?true:false}},{name:"lightbot_achievement_complete_levels_25",title:"Legend",message:"Complete 25 levels.",check:function(){return b()>=25?true:false}},{name:"lightbot_achievement_complete_levels_40",title:"Ultimate Master",message:"Complete 40 levels.",check:function(){return b()>=40?true:false}},{name:"lightbot_achievement_complete_levels_bronze",
title:"Nerd",message:"Earn bronze medals on all levels.",check:function(){return a(lightBot.medals.bronze)===lightBot.map.getNbrOfLevels()}},{name:"lightbot_achievement_complete_levels_silver",title:"Elite",message:"Earn silver medals on all levels.",check:function(){return a(lightBot.medals.silver)===lightBot.map.getNbrOfLevels()}},{name:"lightbot_achievement_complete_levels_gold",title:"H4X0R",message:"Earn gold medals on all levels.",check:function(){return a(lightBot.medals.gold)===lightBot.map.getNbrOfLevels()}}],
hasAchievement:function(a){return localStorage.getItem(a)},awardAchievements:function(){for(var a=[],c=0;c<this.achievementsList.length;c++)!this.hasAchievement(this.achievementsList[c].name)&&this.achievementsList[c].check()&&(localStorage.setItem(this.achievementsList[c].name,true),a.push(this.achievementsList[c]));return a},getAchievementsList:function(){return this.achievementsList}}})();(function(){lightBot.ui={showWelcomeScreen:function(b){lightBot.ui.media.playMenuAudio();b==null&&lightBot.ui.History&&lightBot.ui.History.pushState({page:"welcomeScreen"});$("title").text("SapoBot - zKeven");$(".ui-screen").hide();$("#welcomeScreen").show()},showHelpScreen:function(b){lightBot.ui.media.playMenuAudio();b==null&&lightBot.ui.History&&lightBot.ui.History.pushState({page:"helpScreen"});$("title").text("SapoBot - Help");$(".ui-screen").hide();$("#helpScreen").show()},showAchievementsScreen:function(b){lightBot.ui.media.playMenuAudio();
var a=false;$("#achievementsList").empty();for(var f=lightBot.achievements.getAchievementsList(),c=0;c<f.length;c++)a=lightBot.achievements.hasAchievement(f[c].name)?true:false,$('<li class="'+(a?"":"ui-state-disabled")+'"><img src="img/achievements/'+f[c].name+'.png"><h3>'+f[c].title+"</h3><p>"+f[c].message+"</p></li>").appendTo("#achievementsList");b==null&&lightBot.ui.History&&lightBot.ui.History.pushState({page:"achievementsScreen"});$("title").text("SapoBot - Achievements");$(".ui-screen").hide();
$("#achievementsScreen").show()},showLevelSelectScreen:function(b){lightBot.ui.media.playMenuAudio();$("#levelList").empty();for(var a=0;a<lightBot.map.getNbrOfLevels();a++){var f=parseInt(localStorage.getItem("lightbot_level_"+a),10),c="";if(f)switch(f){case lightBot.medals.gold:c="medal-gold";break;case lightBot.medals.silver:c="medal-silver";break;case lightBot.medals.bronze:c="medal-bronze";break;case lightBot.medals.noMedal:break;default:console.error('Unknown medal "'+c+'"')}var d=lightBot.map.getLevelMedals(a),
e="";d&&(e='<div class="medal-requirements"><span class="medal-req gold">G: '+d.gold+'</span><span class="medal-req silver">S: '+d.silver+'</span><span class="medal-req bronze">B: '+d.bronze+"</span></div>");f?$('<li class="ui-state-highlight" data-level="'+a+'"><span class="medal '+c+'" style="position: absolute; top: 2px; right: 2px"></span><span class="level-number">'+a+"</span>"+e+"</li>").appendTo("#levelList"):$('<li data-level="'+a+'"><span class="level-number">'+a+"</span>"+e+"</li>").appendTo("#levelList")}b==
null&&lightBot.ui.History&&lightBot.ui.History.pushState({page:"levelSelectScreen"});$("title").text("SapoBot - Level Select");$(".ui-screen").hide();$("#levelSelectScreen").show()},showSandboxScreen:function(b){lightBot.ui.media.playMenuAudio();b==null&&lightBot.ui.History&&lightBot.ui.History.pushState({page:"sandboxScreen"});$("title").text("SapoBot - Map Editor");$(".ui-screen").hide();$("#sandboxScreen").show()},showCommunityScreen:function(b){lightBot.ui.media.playMenuAudio();b==null&&lightBot.ui.History&&
lightBot.ui.History.pushState({page:"communityScreen"});$("title").text("SapoBot - Community");$(".ui-screen").hide();$("#communityScreen").show();!window.lightBot||!lightBot.community||!lightBot.community.listMaps?$("#communityList").empty().append("<li>Community is unavailable.</li>"):($("#communityList").empty().append("<li>Loading maps...</li>"),lightBot.community.listMaps().then(function(a){$("#communityList").empty();if(!a||a.error)$("#communityList").append("<li>Error loading community maps.</li>");
else if(a=a.data||[],a.length){$("#communityList").css({display:"flex","flex-wrap":"wrap","justify-content":"flex-start",gap:"10px"});for(var f=0;f<a.length;f++){var c=a[f],b=c.name||"Map "+c.id,c=$('<li class="community-level ui-state-default" data-id="'+c.id+'" data-name="'+b.replace(/"/g,"&quot;")+'"><span class="level-number">'+b+"</span></li>");c.css({width:"160px",height:"120px",padding:"10px","text-align":"center","background-color":"#2c2c2c","border-radius":"4px",border:"1px solid #444","box-sizing":"border-box",
display:"flex","align-items":"center","justify-content":"center",cursor:"pointer",color:"#ffffff","font-weight":"bold","font-size":"14px","line-height":"1.2",overflow:"hidden","text-overflow":"ellipsis","white-space":"normal"});c.appendTo("#communityList")}$("#communitySearch").off("keyup").on("keyup",function(){var a=$(this).val().toLowerCase();$("#communityList li.community-level").each(function(){var c=($(this).data("name")||"").toLowerCase();!a||c.indexOf(a)!==-1?$(this).show():$(this).hide()})});
$("#communityList li.community-level").off("click").on("click",function(){var a=$(this).data("id");a&&lightBot.community&&lightBot.community.getMapById&&lightBot.community.getMapById(a).then(function(c){if(!c||c.error||!c.data||!c.data.map)alert("Error loading community map.");else if(!lightBot.map||!lightBot.map.loadCommunityMap)alert("Community maps are not supported in this build.");else{if(!window.lightBot)window.lightBot={};lightBot.currentCommunityMap=true;lightBot.map.loadCommunityMap(c.data.map,
c.data.name);lightBot.ui.media.playGameAudio();lightBot.updateProjection&&setTimeout(function(){lightBot.updateProjection()},10);lightBot.ui.editor&&lightBot.ui.editor.cleanup&&lightBot.ui.editor.cleanup();$("#programContainer ul").html("");$("#programContainer ul").append('<li class="ui-state-default placeholder"><p class="placeholder">Drop your instructions here</p></li>');lightBot.ui.editor&&lightBot.ui.editor.makeDroppable&&lightBot.ui.editor.makeDroppable();$("#runButton").button("option",{label:"Run",
icons:{primary:"ui-icon-play"}}).removeClass("ui-state-highlight");$("#gameScreen .level-indicator").text("Community map: "+(c.data.name||a));$(".ui-screen").hide();$("#gameScreen").show()}})})}else $("#communityList").append("<li>No community maps yet.</li>")}))},showGameScreen:function(b,a){lightBot.ui.media.playGameAudio();if(!window.lightBot)window.lightBot={};lightBot.currentCommunityMap=false;lightBot.map.loadMap(b);setTimeout(function(){lightBot.updateProjection&&lightBot.updateProjection()},
10);a==null&&lightBot.ui.History&&lightBot.ui.History.pushState({page:"gameScreen",level:b});$("title").text("SapoBot - Level "+b);$(".ui-screen").hide();lightBot.ui.editor.cleanup();$("#programContainer ul").html("");localStorage.getItem("lightbot_program_level_"+b)?lightBot.ui.editor.loadProgram():($("#programContainer ul").append('<li class="ui-state-default placeholder"><p class="placeholder">Drop your instructions here</p></li>'),lightBot.ui.editor.makeDroppable());$("#runButton").button("option",
{label:"Run",icons:{primary:"ui-icon-play"}}).removeClass("ui-state-highlight");$("#gameScreen .level-indicator").text("Level "+b);$("#gameScreen").show()}}})();$(document).ready(function(){$("#audioPlayer").jPlayer({ready:function(){$(this).jPlayer("setMedia",lightBot.ui.media.audio.menu).jPlayer("play")},swfPath:"js",supplied:"mp3",loop:true,solution:"flash, html",cssSelectorAncestor:"#audioContainer"});$("#videoPlayer").jPlayer({ready:function(){$(this).jPlayer("setMedia",lightBot.ui.media.video[0])},swfPath:"js",supplied:"webmv, ogv, m4v",preload:"metadata",cssSelectorAncestor:"#videoContainer",backgroundColor:"#000000",size:{width:"400px",height:"300px",
cssClass:"jp-video-300p"}});lightBot.ui.media.audioPlayer=$("#audioPlayer");lightBot.ui.media.videoPlayer=$("#videoPlayer")});
(function(){lightBot.ui.media={audioPlayer:null,videoPlayer:null,audio:{menu:{mp3:"media/audio/menu.mp3"},game:{mp3:"media/audio/game.mp3"}},video:[{webmv:"media/video/goal.webm",m4v:"media/video/goal.mp4",ogv:"media/video/goal.ogv"},{webmv:"media/video/howto.webm",m4v:"media/video/howto.mp4",ogv:"media/video/howto.ogv"},{webmv:"media/video/objects.webm",m4v:"media/video/objects.mp4",ogv:"media/video/objects.ogv"},{webmv:"media/video/walk.webm",m4v:"media/video/walk.mp4",ogv:"media/video/walk.ogv"},
{webmv:"media/video/turnRight.webm",m4v:"media/video/turnRight.mp4",ogv:"media/video/turnRight.ogv"},{webmv:"media/video/turnLeft.webm",m4v:"media/video/turnLeft.mp4",ogv:"media/video/turnLeft.ogv"},{webmv:"media/video/jump.webm",m4v:"media/video/jump.mp4",ogv:"media/video/jump.ogv"},{webmv:"media/video/light.webm",m4v:"media/video/light.mp4",ogv:"media/video/light.ogv"},{webmv:"media/video/repeat.webm",m4v:"media/video/repeat.mp4",ogv:"media/video/repeat.ogv"},{webmv:"media/video/medal.webm",m4v:"media/video/medal.mp4",
ogv:"media/video/medal.ogv"}],audioEnabled:true,playMenuAudio:function(){this.audioPlayer.data("jPlayer").status.media.mp3!=this.audio.menu.mp3&&(this.audioPlayer.jPlayer("setMedia",this.audio.menu),this.audioEnabled&&this.audioPlayer.jPlayer("play"))},playGameAudio:function(){this.audioPlayer.data("jPlayer").status.media.mp3!=this.audio.game.mp3&&(this.audioPlayer.jPlayer("setMedia",this.audio.game),this.audioEnabled&&this.audioPlayer.jPlayer("play"))},playVideo:function(b){this.videoPlayer.jPlayer("setMedia",
this.video[b])},toggleAudioOn:function(){this.audioEnabled=true;this.audioPlayer.jPlayer("play");$(".audioToggleButton").children("span.ui-button-icon-primary").addClass("ui-icon-volume-on").removeClass("ui-icon-volume-off")},toggleAudioOff:function(){this.audioEnabled=false;this.audioPlayer.jPlayer("pause");$(".audioToggleButton").children("span.ui-button-icon-primary").addClass("ui-icon-volume-off").removeClass("ui-icon-volume-on")},toggleAudio:function(){this.audioEnabled?this.toggleAudioOff():
this.toggleAudioOn()}}})();$(document).ready(function(){$(".helpButton").button({icons:{primary:"ui-icon-help"}}).click(function(){lightBot.ui.showHelpScreen()});$(".sandboxButton").button({icons:{primary:"ui-icon-pencil"}}).click(function(){lightBot.ui.showSandboxScreen()});$(".communityButton").button({icons:{primary:"ui-icon-person"}}).click(function(){lightBot.ui.showCommunityScreen()});$(".mainMenuButton").button({icons:{primary:"ui-icon-home"}}).click(function(){lightBot.ui.showWelcomeScreen()});$(".achievementsButton").button({icons:{primary:"ui-icon-flag"}}).click(function(){lightBot.ui.showAchievementsScreen()});
$(".levelSelectButton").button({icons:{primary:"ui-icon-power"}}).click(function(){window.lightBot&&lightBot.currentCommunityMap?(lightBot.currentCommunityMap=false,lightBot.ui.showCommunityScreen()):lightBot.ui.showLevelSelectScreen()});$("#gameScreen .levelSelectButton").button("option",{icons:{primary:"ui-icon-home"}});$("#levelList li").live({mouseover:function(){$(this).addClass("ui-state-hover")},mouseout:function(){$(this).removeClass("ui-state-hover")},click:function(){var b=$(this).data("level");
b===void 0&&(b=$(this).find(".level-number").text()||$(this).text().replace(/[^0-9]/g,""));lightBot.ui.showGameScreen(b)}});$(".audioToggleButton").button({icons:{primary:"ui-icon-volume-on"},text:false}).click(function(){lightBot.ui.media.toggleAudio()});$("#runButton").button({icons:{primary:"ui-icon-play"}}).click(function(){if(lightBot.bot.isInExecutionMode())lightBot.map.reset(),$(this).button("option",{label:"Run",icons:{primary:"ui-icon-play"}}).removeClass("ui-state-highlight");else{var b=
lightBot.ui.editor.getInstructions($("#programContainer > div > ul > li"));lightBot.bot.queueInstructions(b);lightBot.bot.execute();$(this).button("option",{label:"Stop",icons:{primary:"ui-icon-stop"}}).addClass("ui-state-highlight")}});$("#speedButton").button({icons:{primary:"ui-icon-arrow-2-n-s"}}).click(function(){var b=lightBot.bot.getSpeedMultiplier(),b=b>=3?1:b>=2?3:2;lightBot.bot.setSpeedMultiplier(b);$(this).button("option",{label:"Speed: x"+b.toFixed(1)})});$("#clearButton").button({icons:{primary:"ui-icon-document"}}).click(function(){confirm("Are you sure you want to clear all instructions? This action cannot be undone.")&&
($("#programContainer ul").empty(),lightBot.ui.editor.saveProgram())});$("#exportDataButton, #importDataButton").button({icons:{primary:"ui-icon-disk"}});$("#importDataButton").button("option",{icons:{primary:"ui-icon-folder-open"}});$("#gameRotateLeftButton").button({icons:{primary:"ui-icon-arrowreturnthick-1-w"}}).click(function(){if(!window.lightBot)window.lightBot={};lightBot.viewRotation=((lightBot.viewRotation||0)+3)%4;lightBot.updateProjection&&lightBot.updateProjection()});$("#gameRotateRightButton").button({icons:{primary:"ui-icon-arrowreturnthick-1-e"}}).click(function(){if(!window.lightBot)window.lightBot=
{};lightBot.viewRotation=((lightBot.viewRotation||0)+1)%4;lightBot.updateProjection&&lightBot.updateProjection()});$("#communityRefreshButton").button({icons:{primary:"ui-icon-refresh"}}).click(function(){lightBot&&lightBot.ui&&lightBot.ui.showCommunityScreen&&lightBot.ui.showCommunityScreen(true)});$("#helpScreenAccordion").accordion({autoHeight:false,navigation:true,icons:false,change:function(b,a){lightBot.ui.media.playVideo($("#helpScreenAccordion h3").index(a.newHeader))}})});$(document).ready(function(){$("div#levelCompleteDialog").dialog({draggable:false,autoOpen:false,modal:true,width:400,height:200,stack:false,resizable:false,close:function(){lightBot.ui.showLevelSelectScreen()},buttons:{Ok:function(){$(this).dialog("close")}}});$("div#achievementDialog").dialog({draggable:false,autoOpen:false,modal:true,width:400,height:200,stack:true,resizable:false,close:function(){lightBot.achievements.display()},buttons:{Ok:function(){$(this).dialog("close")}}})});$(document).ready(function(){$("#programContainer").delegate(':input[type="number"]',"change",function(){lightBot.ui.editor.saveProgram()});$("#programContainer").delegate(".ui-icon-close","click",function(){$(this).parent().parent().remove();lightBot.ui.editor.saveProgram()});$("#instructionsContainer li").draggable({revert:"invalid",appendTo:"body",helper:"clone",cursor:"move",distance:5,delay:0,refreshPositions:true,start:function(b,a){b.originalEvent&&b.originalEvent.touches&&b.preventDefault();
a.helper&&a.helper.css({transition:"none",animation:"none"})},drag:function(b,a){a.position.left=b.clientX-$(this).data("draggable").offset.click.left;a.position.top=b.clientY-$(this).data("draggable").offset.click.top}}).addClass("ui-state-default");$("#instructionsContainer, #programContainer").delegate("li","hover",function(){$(this).toggleClass("ui-state-hover")});lightBot.ui.editor.makeDroppable();lightBot.ui.editor.makeProgramInstructionsDraggable()});
(function(){lightBot.ui.editor={cleanup:function(){$("#programContainer li").each(function(){$(this).data("draggable")&&$(this).draggable("destroy")});$("#programContainer ul, #programContainer .droppable ul").droppable("destroy").sortable("destroy")},saveProgram:function(){$("#programContainer ul").find(':input[type="number"]').each(function(){$(this).attr("value",$(this).val())});localStorage.setItem("lightbot_program_level_"+lightBot.map.getLevelNumber(),$("#programContainer ul").html())},loadProgram:function(){$("#programContainer li").each(function(){$(this).data("draggable")&&
$(this).draggable("destroy")});var b=localStorage.getItem("lightbot_program_level_"+lightBot.map.getLevelNumber());b&&(console.log("Loading program, HTML length:",b.length),$("#programContainer ul").html(b),$("#programContainer ul").find("*").removeClass("ui-state-hover ui-state-droppable ui-draggable ui-draggable-dragging ui-sortable-helper"),b=$("#programContainer ul li"),console.log("Found",b.length,"list items after loading"),b.each(function(a){var c=$(this),b=c.find("> p");console.log("Item",
a,"has class:",c.attr("class"),"p class:",b.attr("class"));c.css({display:"block",visibility:"visible",opacity:"1"});b.css({display:"block",visibility:"visible",opacity:"1"});c.find(".droppable").css({display:"block",visibility:"visible"});a=c.closest("ul");a.closest("#programContainer").length>0&&a.closest(".droppable").length===0&&(c.data("no-draggable",true),c.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),c.removeData("draggable"),c.removeData("should-be-draggable"))}));
var a=this;setTimeout(function(){a.makeDroppable();a.makeProgramInstructionsDraggable()},10)},makeDroppable:function(){var b=$("#programContainer ul, #programContainer .droppable ul");b.each(function(){var a=$(this);if(a.data("sortable"))try{a.sortable("option")}catch(b){console.log("Error saving sortable options:",b)}});b.droppable("destroy").sortable("destroy");b.droppable({greedy:true,tolerance:"pointer",activeClass:"ui-state-droppable",hoverClass:"ui-state-droppable-hover",accept:function(a){var b=
a.closest("#instructionsContainer").length>0,c=a.closest("#programContainer").length>0,d=c&&a.closest(".droppable").length>0;if(c&&!d)return console.log("Droppable REJECT - Element from main program (use sortable):",a[0]),false;var e=b||d;console.log("Droppable accept check:",e,"fromInstructions:",b,"fromProgram:",c,"inRepeat:",d,a[0]);return e},scope:"default",over:function(a,b){(!b.draggable||!b.draggable.data("sortable-active"))&&console.log("Droppable OVER - Element:",b.draggable[0],"Target:",
$(this)[0])},drop:function(a,b){if(b.draggable&&b.draggable.data("sortable-active"))console.log("DROPPABLE DROP - Sortable is active, ignoring");else{var c=$(b.draggable).closest("#instructionsContainer").length>0;if(c){console.log("DROPPABLE DROP EXECUTED! Element:",b.draggable[0],"Target:",$(this)[0]);$(this).children(".placeholder").remove();console.log("Is from instructions:",c);if(c){var d=$(b.draggable.clone());d.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");d.removeData("draggable");
d.removeData("should-be-draggable");d.hasClass("ui-state-default")||d.addClass("ui-state-default");d.removeClass("placeholder");var e=$(this),c=e.children("li:not(.placeholder)"),g=null,i=null;if(a&&a.pageY)i=a.pageY;else if(a&&a.originalEvent)if(a.originalEvent.pageY)i=a.originalEvent.pageY;else if(a.originalEvent.touches&&a.originalEvent.touches.length>0)i=a.originalEvent.touches[0].pageY;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length>0)i=a.originalEvent.changedTouches[0].pageY;
i&&c.length>0&&c.each(function(){var a=$(this),c=a.offset();if(c){var c=c.top,b=a.outerHeight();if(i<c+b/2)return g=a,false}});g?d.insertBefore(g):d.appendTo(e);var e=$(this),c=e.closest(".droppable"),h=c.length>0&&c.parent().is("li"),j=e.closest("#programContainer").length>0&&c.length>0&&c.parent().is("#programContainer");console.log("Target analysis - isTargetInMainProgram:",j,"isTargetInRepeat:",h);console.log("Target list:",e[0],"droppable parent:",c[0],"droppable parent's parent:",c.parent()[0]);
if(h)console.log("Target is in repeat, making draggable"),lightBot.ui.editor.makeInstructionDraggable(d);else if(j){console.log("Target is in main program, setting up for sortable");d.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");d.removeData("draggable");d.removeData("should-be-draggable");d.data("no-draggable",true);d.css({cursor:"move",display:"block",visibility:"visible",opacity:"1",position:"relative"});console.log("Setting up new instruction for sortable, target list:",
e[0]);d.parent()[0]!==e[0]&&(console.log("Warning: Clone parent mismatch, fixing..."),d.detach().appendTo(e));var k=0,l=function(){k++;try{if(e.data("sortable")){e.sortable("refresh");e.sortable("refreshPositions");e.sortable("enable");var a=e.children("li:not(.placeholder)"),c=a.index(d);console.log("Refresh attempt",k,"- Items:",a.length,"Clone index:",c);c===-1&&k>=3?(console.log("Element not recognized after",k,"attempts, recreating sortable..."),lightBot.ui.editor.makeDroppable()):c!==-1?console.log("SUCCESS: New instruction recognized by sortable at index",
c):k<5&&setTimeout(l,10)}else console.log("Error: Sortable not found, recreating..."),lightBot.ui.editor.makeDroppable()}catch(b){console.log("Error in refresh attempt",k,":",b),k<3&&setTimeout(l,10)}};l()}d.children("div").hasClass("droppable")&&(lightBot.ui.editor.makeDroppable(),d.find(".droppable ul li").each(function(){lightBot.ui.editor.makeInstructionDraggable($(this))}))}c=$(this).parent();c.parent().is("#programContainer")&&c.animate({scrollTop:c.height()},"slow");var n=$("#programContainer ul, #programContainer .droppable ul");
setTimeout(function(){try{n.each(function(){var a=$(this);a.data("sortable")&&(a.sortable("enable"),a.sortable("refresh"),a.sortable("refreshPositions"),console.log("Refreshed and enabled sortable:",a[0]))})}catch(a){console.log("Error refreshing sortables after drop:",a)}},100);lightBot.ui.editor.saveProgram()}else{console.log("DROPPABLE DROP - Existing instruction, letting sortable handle via connectWith");var e=$(this),j=e.closest("#programContainer").length>0&&e.closest(".droppable").length===
0;if(j&&b.draggable.data("draggable")){var m=b.draggable;setTimeout(function(){if(m.length&&m.data("draggable")&&!m.data("dragging-element"))try{m.draggable("destroy"),m.removeClass("ui-draggable"),m.removeData("draggable"),console.log("Destroyed draggable for element being moved to main program")}catch(a){console.log("Error destroying draggable (may be in use):",a)}},100)}}}}});b.sortable({items:"> li:not(.placeholder)",placeholder:"ui-state-highlight",cursor:"move",connectWith:"#programContainer ul, #programContainer .droppable ul",
distance:1,delay:0,handle:false,tolerance:"intersect",dropOnEmpty:true,axis:false,cancel:".ui-icon-close, input",forcePlaceholderSize:true,scroll:true,scrollSensitivity:40,scrollSpeed:20,helper:"original",refreshPositions:true,receive:function(a,b){console.log("SORTABLE RECEIVE - Item:",b.item[0],"Sender:",b.sender?b.sender[0]:"none");var c=b.item.closest("ul"),d=c.closest(".droppable"),e=d.length>0&&d.parent().is("li"),d=c.closest("#programContainer").length>0&&d.length>0&&d.parent().is("#programContainer");
if(b.sender&&b.sender.closest("#instructionsContainer").length>0)b.item.data("sortable-received",true),d&&(b.item.data("no-draggable",true),b.item.removeClass("ui-draggable"),b.item.removeData("draggable"));else if(b.sender)if(console.log("Item moved between lists - isInRepeat:",e,"isInMainProgram:",d),e)b.item.removeData("no-draggable"),setTimeout(function(){lightBot.ui.editor.makeInstructionDraggable(b.item);c.data("sortable")&&(c.sortable("refresh"),c.sortable("refreshPositions"),console.log("Refreshed repeat list sortable after receiving item"))},
0);else if(d){b.item.data("no-draggable",true);if(b.item.data("draggable"))try{b.item.draggable("destroy")}catch(g){console.log("Error destroying draggable:",g)}b.item.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");b.item.removeData("draggable");b.item.removeData("should-be-draggable")}},start:function(a,b){console.log("SORTABLE START - Item:",b.item[0]);b.item.data("sortable-active",true);b.item.css({cursor:"move",display:"block",visibility:"visible",opacity:"1",transition:"none",
animation:"none"});b.helper&&b.helper.css({transition:"none",animation:"none"});b.item.hasClass("ui-state-default")||b.item.addClass("ui-state-default");b.item.removeClass("placeholder");var c=b.item.closest("ul"),d=c.closest(".droppable"),c=c.closest("#programContainer").length>0&&c.closest(".droppable").length===0,d=d.length>0&&d.parent().is("li");if(b.item.data("draggable"))if(c||d)try{b.item.draggable("destroy"),b.item.removeClass("ui-draggable ui-draggable-disabled"),b.item.removeData("draggable"),
b.item.removeData("should-be-draggable"),console.log("Destroyed draggable in sortable start for",c?"main program":"repeat","item")}catch(e){console.log("Error destroying draggable in sortable start:",e),b.item.removeClass("ui-draggable ui-draggable-disabled"),b.item.removeData("draggable"),b.item.removeData("should-be-draggable")}else try{b.item.data("draggable")&&(b.item.draggable("disable"),b.item.data("draggable-was-enabled",true),console.log("Disabled draggable during sortable"))}catch(g){console.log("Error disabling draggable in sortable start:",
g),b.item.data("draggable-was-enabled",true)}else if(c||d)b.item.removeClass("ui-draggable ui-draggable-disabled"),b.item.removeData("draggable"),b.item.removeData("should-be-draggable")},over:function(a,b){if(b.item){var c=$(this).closest(".droppable");c.length>0&&c.parent().is("li")&&(b.item.data("over-repeat-list",true),console.log("Over repeat list - will prioritize repeat over main list"))}},out:function(a,b){b.item&&b.item.data("over-repeat-list")&&(b.item.removeData("over-repeat-list"),console.log("Left repeat list area"))},
sort:function(){b.removeClass("ui-state-droppable")},receive:function(a,b){if(b.item.data("dropped-by-droppable"))return console.log("Sortable receive cancelled - handled by droppable"),false},stop:function(a,b){console.log("SORTABLE STOP - Item:",b.item[0]);b.item&&b.item.removeData("over-repeat-list");if(b.item.data("dropped-by-droppable"))console.log("Sortable stop cancelled - handled by droppable"),b.item.removeData("dropped-by-droppable"),b.item.removeData("sortable-active");else{b.item.removeData("sortable-active");
b.item.css({cursor:"move",display:"block",visibility:"visible",opacity:"1",position:"relative"});b.item.hasClass("ui-state-default")||b.item.addClass("ui-state-default");var c=b.item.closest("ul"),d=c.closest(".droppable"),e=d.length>0&&d.parent().is("li"),d=c.closest("#programContainer").length>0&&d.length>0&&d.parent().is("#programContainer");console.log("SORTABLE STOP - Location check - isInMainProgram:",d,"isInRepeat:",e);if(d){if(b.item.data("draggable"))try{b.item.draggable("destroy")}catch(g){console.log("Error destroying draggable:",
g)}b.item.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");b.item.removeData("draggable");b.item.removeData("draggable-was-enabled");b.item.removeData("should-be-draggable");b.item.data("no-draggable",true);console.log("Ensured main program item is not draggable");setTimeout(function(){try{if(c.data("sortable")){c.sortable("enable");c.sortable("refresh");c.sortable("refreshPositions");console.log("Sortable refreshed and enabled after stop in main program");var a=c.find("li:not(.placeholder)");
console.log("Total sortable items after refresh:",a.length);a.each(function(a){var b=$(this);b.hasClass("placeholder")&&console.log("Warning: Item",a,"has placeholder class");b.hasClass("ui-state-default")||b.addClass("ui-state-default");if(b.data("draggable"))try{b.draggable("destroy")}catch(c){console.log("Error destroying draggable on item",a,":",c)}b.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");b.removeData("draggable");b.removeData("should-be-draggable");b.data("no-draggable",
true)});setTimeout(function(){a.each(function(){var a=$(this);if(a.data("draggable")){console.log("WARNING: Found draggable element in main program after stop, destroying it");try{a.draggable("destroy")}catch(b){console.log("Error destroying draggable:",b)}a.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");a.removeData("draggable");a.removeData("should-be-draggable");a.data("no-draggable",true)}})},50)}else console.log("Warning: Sortable not found on parent list after stop")}catch(b){console.log("Error refreshing sortable after stop:",
b)}},10)}else if(e){b.item.removeData("no-draggable");if(b.item.data("draggable"))try{b.item.draggable("destroy"),b.item.removeClass("ui-draggable ui-draggable-disabled"),b.item.removeData("draggable"),b.item.removeData("should-be-draggable"),console.log("Removed draggable from repeat item - sortable handles it")}catch(i){console.log("Error removing draggable:",i)}e=function(){try{if(c.data("sortable")){c.sortable("enable");c.sortable("refresh");c.sortable("refreshPositions");console.log("Refreshed repeat list sortable after moving item");
var a=c.children("li:not(.placeholder)"),d=a.index(b.item);console.log("Item index in repeat list after refresh:",d,"Total items:",a.length)}else console.log("Warning: Sortable not found on repeat list")}catch(e){console.log("Error refreshing repeat list sortable:",e)}};e();setTimeout(e,10);setTimeout(e,50)}b.item.children("div").hasClass("droppable")&&(lightBot.ui.editor.makeDroppable(),b.item.find(".droppable ul li").each(function(){lightBot.ui.editor.makeInstructionDraggable($(this));$(this).children("div").hasClass("droppable")&&
$(this).find(".droppable ul li").each(function(){lightBot.ui.editor.makeInstructionDraggable($(this))})}));setTimeout(function(){try{$("#programContainer ul, #programContainer .droppable ul").each(function(){var a=$(this);if(a.data("sortable")){a.sortable("enable");a.sortable("refresh");a.sortable("refreshPositions");console.log("Refreshed and enabled sortable:",a[0]);var b=a.closest(".droppable");b.length>0&&b.parent().is("li")&&(a=a.children("li:not(.placeholder)"),console.log("Repeat list has",
a.length,"items after refresh"),a.each(function(){var a=$(this);a.hasClass("ui-state-default")||a.addClass("ui-state-default")}))}})}catch(a){console.log("Error refreshing all sortables after stop:",a)}},50);lightBot.ui.editor.saveProgram()}}})},makeProgramInstructionsDraggable:function(){var b=function(a,f){a.find("> li").each(function(){var a=$(this);f&&lightBot.ui.editor.makeInstructionDraggable(a);a=a.find("> .droppable > .ui-widget-content > ul, > .droppable > ul");a.length>0&&b(a,true)})};b($("#programContainer ul"),
false)},makeInstructionDraggable:function(b){var a=b.closest("ul"),a=a.closest("#programContainer").length>0&&a.closest(".droppable").length===0;if(b.data("no-draggable")){console.log("Skipping draggable - element marked as no-draggable");if(b.data("draggable"))try{b.draggable("destroy")}catch(f){console.log("Error destroying draggable:",f)}b.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");b.removeData("draggable");b.removeData("should-be-draggable")}else if(a){console.log("Skipping draggable for main program item");
b.data("no-draggable",true);if(b.data("draggable"))try{b.draggable("destroy")}catch(c){console.log("Error destroying draggable:",c)}b.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");b.removeData("draggable");b.removeData("should-be-draggable")}else if(!b.hasClass("ui-draggable")&&!b.hasClass("placeholder")){if(b.data("draggable"))try{b.draggable("destroy")}catch(d){console.log("Error destroying existing draggable:",d)}b.data("should-be-draggable",true);(function(){var a=b.closest("ul");
return!(a.closest("#programContainer").length>0&&a.closest(".droppable").length===0)})()?(a=b.closest("ul"),a=a.closest(".droppable"),a.length>0&&a.parent().is("li")?console.log("Skipping draggable for repeat item - sortable will handle it"):b.draggable({revert:"invalid",appendTo:"body",helper:"clone",cursor:"move",scope:"default",cancel:function(){var a=b.closest("ul");return a.closest("#programContainer").length>0&&a.closest(".droppable").length===0},distance:1,delay:0,refreshPositions:true,iframeFix:false,
start:function(a,b){console.log("DRAGGABLE START - Element:",b.helper?b.helper[0]||b.helper:"no helper");var c=$(this);b.helper&&b.helper.css({transition:"none",animation:"none"});var d=c.closest("ul");if(d.closest("#programContainer").length>0&&d.closest(".droppable").length===0)return console.log("Element is in main program, canceling draggable - use sortable instead"),a.preventDefault(),a.stopPropagation(),false;a.originalEvent&&a.originalEvent.touches&&a.preventDefault();d=c.closest("ul");d=d.closest(".droppable");
if(d.length>0&&d.parent().is("li"))return console.log("Element is in repeat - canceling draggable, let sortable handle it"),a.preventDefault(),a.stopPropagation(),false;else $("#programContainer ul, #programContainer .droppable ul").sortable("disable"),console.log("Sortable disabled for droppable priority (moving between lists)");c.data("dragging-element",c)},stop:function(a,b){console.log("DRAGGABLE STOP - Element:",b.helper?b.helper[0]||b.helper:"no helper");if(b.helper&&b.helper.length&&b.helper.parent().length)try{b.helper.remove()}catch(c){console.log("Error removing helper:",
c)}var d=this,f=$("#programContainer ul, #programContainer .droppable ul");setTimeout(function(){f.sortable("enable");console.log("Sortable re-enabled");$(d).removeData("dragging-element")},100)}})):(b.removeClass("ui-draggable"),b.removeData("draggable"),b.removeData("should-be-draggable"))}},getInstructions:function(b){var a=[];b.each(function(){switch($(this).children("p").attr("class")){case "walk":a.push(new lightBot.bot.instructions.WalkInstruction);break;case "jump":a.push(new lightBot.bot.instructions.JumpInstruction);
break;case "light":a.push(new lightBot.bot.instructions.LightInstruction);break;case "turnLeft":a.push(new lightBot.bot.instructions.TurnLeftInstruction);break;case "turnRight":a.push(new lightBot.bot.instructions.TurnRightInstruction);break;case "repeat":var b=$(this).children("p").children("span").children("input").val(),c=lightBot.ui.editor.getInstructions($(this).children("div").children("div").children("ul").children("li"));a.push(new lightBot.bot.instructions.RepeatInstruction(b,c))}});return a}}})();$(document).ready(function(){var b=window.History;if(b.enabled)b.Adapter.bind(window,"statechange",function(){var a=b.getState();if(a===null)lightBot.ui.showWelcomeScreen(true);else switch(a.data.page){case "welcomeScreen":lightBot.ui.showWelcomeScreen(true);break;case "helpScreen":lightBot.ui.showHelpScreen(true);break;case "achievementsScreen":lightBot.ui.showHelpScreen(true);break;case "levelSelectScreen":lightBot.ui.showLevelSelectScreen(true);break;case "gameScreen":lightBot.ui.showGameScreen(a.data.level,
true);break;case "communityScreen":lightBot.ui.showCommunityScreen(true);break;default:console.error("Unknown history page: "+a.data.page)}}),lightBot.ui.History=b,lightBot.ui.showWelcomeScreen()});$(document).ready(function(){var b=$('<input type="file" accept=".json" style="display: none;">');$("body").append(b);$(document).on("click","#exportDataButton",function(){lightBot.ui.save.exportData()});$(document).on("click","#importDataButton",function(){b.click()});b.on("change",function(a){if(a=a.target.files[0]){var b=new FileReader;b.onload=function(a){try{var b=JSON.parse(a.target.result);lightBot.ui.save.importData(b)}catch(f){alert("Error al cargar el archivo: "+f.message)}};b.readAsText(a)}$(this).val("")})});
(function(){lightBot.ui.save={exportData:function(){for(var b={},a=0;a<localStorage.length;a++){var f=localStorage.key(a);f&&f.indexOf("lightbot_")===0&&(b[f]=localStorage.getItem(f))}b=JSON.stringify(b,null,2);b=new Blob([b],{type:"application/json"});b=URL.createObjectURL(b);a=document.createElement("a");a.href=b;a.download="lightbot_save_"+(new Date).toISOString().split("T")[0]+".json";document.body.appendChild(a);a.click();document.body.removeChild(a);URL.revokeObjectURL(b);alert("Datos exportados correctamente!")},
importData:function(b){if(confirm("\u00bfEst\u00e1s seguro de que quieres importar estos datos? Esto sobrescribir\u00e1 todos tus datos guardados actuales.")){var a=0,f=0,c;for(c in b)if(b.hasOwnProperty(c)&&c.indexOf("lightbot_")===0)try{localStorage.setItem(c,b[c]),a++}catch(d){console.error("Error importing key:",c,d),f++}b="Datos importados correctamente!\n";b+="Items importados: "+a;f>0&&(b+="\nErrores: "+f);b+="\n\nLa p\u00e1gina se recargar\u00e1 para aplicar los cambios.";alert(b);window.location.reload()}}}})();var canvasView=function(b){lightBot.ctx=b.get(0).getContext("2d");window.setInterval(function(){if(lightBot.bot.isInExecutionMode()&&lightBot.bot.isReadyForNextInstruction()&&lightBot.bot.hasNextInstruction()){var a=$.extend({},lightBot.bot.currentPos),b=lightBot.bot.executeNextInstruction();lightBot.bot.animate(b,a,lightBot.bot.currentPos)}lightBot.map.ready()&&lightBot.map.state.check(lightBot.map.state.allLightsOn)&&(lightBot.bot.clearExecutionQueue(),a=lightBot.medals.awardMedal(),lightBot.medals.display(a),
a=lightBot.achievements.awardAchievements(),lightBot.achievements.display(a),lightBot.map.complete());lightBot.step();lightBot.draw()},1E3/30);lightBot.projection=new lightBot.Projection(b.get(0).height,b.get(0).width/2,50);if(!window.lightBot)window.lightBot={};if(typeof lightBot.viewRotation==="undefined")lightBot.viewRotation=0;lightBot.updateProjection=function(){var a=b.get(0).width/2;if(lightBot.map&&lightBot.map.getLevelSize&&lightBot.map.getMapRef&&lightBot.bot){var d=lightBot.map.getLevelSize();
if(d&&d.x>0&&d.y>0&&(d=lightBot.map.getMapRef()[0][0])&&d.getEdgeLength){var d=d.getEdgeLength(),f=lightBot.bot.startingPos||lightBot.bot.currentPos;f&&(a=0.707*f.x*d-0.707*f.y*d,a=b.get(0).width/2-a)}}lightBot.projection=new lightBot.Projection(b.get(0).height,a,50)};var a=null,f=new Image;f.src="img/pattern.png";f.onload=function(){a=lightBot.ctx.createPattern(f,"repeat")};$(document).keydown(function(a){var b=a.target&&a.target.tagName;b==="INPUT"||b==="TEXTAREA"||((a.key==="q"||a.key==="Q")&&
$("#gameRotateLeftButton").click(),(a.key==="e"||a.key==="E")&&$("#gameRotateRightButton").click())});lightBot.step=function(){lightBot.bot.step();lightBot.map.step()};lightBot.draw=function(){lightBot.ctx.clearRect(0,0,b.width(),b.height());lightBot.ctx.fillStyle=a;lightBot.ctx.fillRect(0,0,b.width(),b.height());switch(lightBot.bot.direction){case lightBot.directions.se:for(var c=lightBot.map.getLevelSize().x-1;c>=0;c--)for(var d=lightBot.map.getLevelSize().y-1;d>=0;d--)lightBot.map.getMapRef()[c][d].draw(),
lightBot.bot.currentPos.x===c&&lightBot.bot.currentPos.y===d&&lightBot.bot.draw();break;case lightBot.directions.nw:for(c=lightBot.map.getLevelSize().x-1;c>=0;c--)for(d=lightBot.map.getLevelSize().y-1;d>=0;d--)switch(lightBot.map.getMapRef()[c][d].draw(),lightBot.bot.getAnimation().name){case lightBot.bot.animations.jumpUp.name:case lightBot.bot.animations.jumpDown.name:lightBot.bot.getMovement().dZ!==0&&lightBot.bot.getCurrentStep()/lightBot.bot.getAnimation().duration<=0.5?lightBot.bot.currentPos.x===
c&&lightBot.bot.currentPos.y===d+1&&lightBot.bot.draw():lightBot.bot.currentPos.x===c&&lightBot.bot.currentPos.y===d&&lightBot.bot.draw();break;case lightBot.bot.animations.walk.name:lightBot.bot.getMovement().dZ!==0&&lightBot.bot.currentPos.x===c&&lightBot.bot.currentPos.y===d+1?lightBot.bot.draw():lightBot.bot.currentPos.x===c&&lightBot.bot.currentPos.y===d&&lightBot.bot.draw();break;default:lightBot.bot.currentPos.x===c&&lightBot.bot.currentPos.y===d&&lightBot.bot.draw()}break;case lightBot.directions.ne:for(c=
lightBot.map.getLevelSize().y-1;c>=0;c--)for(d=lightBot.map.getLevelSize().x-1;d>=0;d--)switch(lightBot.map.getMapRef()[d][c].draw(),lightBot.bot.getAnimation().name){case lightBot.bot.animations.jumpUp.name:case lightBot.bot.animations.jumpDown.name:lightBot.bot.getMovement().dX!==0&&lightBot.bot.getCurrentStep()/lightBot.bot.getAnimation().duration<=0.5?lightBot.bot.currentPos.x===d+1&&lightBot.bot.currentPos.y===c&&lightBot.bot.draw():lightBot.bot.currentPos.x===d&&lightBot.bot.currentPos.y===
c&&lightBot.bot.draw();break;case lightBot.bot.animations.walk.name:lightBot.bot.getMovement().dX!==0&&lightBot.bot.currentPos.x===d+1&&lightBot.bot.currentPos.y===c?lightBot.bot.draw():lightBot.bot.currentPos.x===d&&lightBot.bot.currentPos.y===c&&lightBot.bot.draw();break;default:lightBot.bot.currentPos.x===d&&lightBot.bot.currentPos.y===c&&lightBot.bot.draw()}break;case lightBot.directions.sw:for(c=lightBot.map.getLevelSize().y-1;c>=0;c--)for(d=lightBot.map.getLevelSize().x-1;d>=0;d--)lightBot.map.getMapRef()[d][c].draw(),
lightBot.bot.currentPos.x===d&&lightBot.bot.currentPos.y===c&&lightBot.bot.draw();break;default:console.error('canvasView draw: unknown direction "'+lightBot.bot.direction+'"')}};return{}};(function(){lightBot.map.step=function(){for(var b=0;b<lightBot.map.getLevelSize().x;b++)for(var a=0;a<lightBot.map.getLevelSize().y;a++)lightBot.map.getMapRef()[b][a].step()}})();(function(){function b(a,b,c){var d=a,e=c;switch((lightBot.viewRotation||0)%4){case 1:d=c;e=-a;break;case 2:d=-a;e=-c;break;case 3:d=-c,e=a}return lightBot.projection.project(d,b,e)}lightBot.LightBox.prototype.pulseGrowing=true;lightBot.LightBox.prototype.currentAnimationFrame=0;lightBot.Box.prototype.step=function(){};lightBot.Box.prototype.drawTopFace=function(){lightBot.ctx.fillStyle="#c9d3d9";var a=b(this.x*50,this.getHeight()*50,this.y*50),f=b((this.x+1)*50,this.getHeight()*50,this.y*50),c=b((this.x+
1)*50,this.getHeight()*50,(this.y+1)*50),d=b(this.x*50,this.getHeight()*50,(this.y+1)*50);lightBot.ctx.beginPath();lightBot.ctx.moveTo(a.x,a.y);lightBot.ctx.lineTo(f.x,f.y);lightBot.ctx.lineTo(c.x,c.y);lightBot.ctx.lineTo(d.x,d.y);lightBot.ctx.lineTo(a.x,a.y);lightBot.ctx.fill();lightBot.ctx.stroke()};lightBot.Box.prototype.drawFrontFace=function(){lightBot.ctx.fillStyle="#adb8bd";var a=b(this.x*50,0,this.y*50),f=b((this.x+1)*50,0,this.y*50),c=b((this.x+1)*50,this.getHeight()*50,this.y*50),d=b(this.x*
50,this.getHeight()*50,this.y*50);lightBot.ctx.beginPath();lightBot.ctx.moveTo(a.x,a.y);lightBot.ctx.lineTo(f.x,f.y);lightBot.ctx.lineTo(c.x,c.y);lightBot.ctx.lineTo(d.x,d.y);lightBot.ctx.lineTo(a.x,a.y);lightBot.ctx.fill();lightBot.ctx.stroke()};lightBot.Box.prototype.drawSideFace=function(){lightBot.ctx.fillStyle="#e5f0f5";var a=b(this.x*50,0,this.y*50),f=b(this.x*50,this.getHeight()*50,this.y*50),c=b(this.x*50,this.getHeight()*50,(this.y+1)*50),d=b(this.x*50,0,(this.y+1)*50);lightBot.ctx.beginPath();
lightBot.ctx.moveTo(a.x,a.y);lightBot.ctx.lineTo(f.x,f.y);lightBot.ctx.lineTo(c.x,c.y);lightBot.ctx.lineTo(d.x,d.y);lightBot.ctx.lineTo(a.x,a.y);lightBot.ctx.fill();lightBot.ctx.stroke()};lightBot.Box.prototype.draw=function(){lightBot.ctx.strokeStyle="#485256";lightBot.ctx.lineWidth=0.5;this.drawTopFace();this.drawFrontFace();this.drawSideFace()};lightBot.Box.prototype.getHeight=function(){return this.height*0.5};lightBot.Box.prototype.getEdgeLength=function(){return 50};lightBot.LightBox.prototype.step=
function(){this.pulseGrowing?this.currentAnimationFrame+1>=30?this.pulseGrowing=false:this.currentAnimationFrame++:this.currentAnimationFrame<=0?this.pulseGrowing=true:this.currentAnimationFrame--};lightBot.LightBox.prototype.drawTopFace=function(){lightBot.ctx.fillStyle=this.lightOn?"#FFE545":"#0468fb";var a=lightBot.projection.project(this.x*50,this.getHeight()*50,this.y*50),f=lightBot.projection.project((this.x+1)*50,this.getHeight()*50,this.y*50),c=lightBot.projection.project((this.x+1)*50,this.getHeight()*
50,(this.y+1)*50),d=lightBot.projection.project(this.x*50,this.getHeight()*50,(this.y+1)*50);lightBot.ctx.beginPath();lightBot.ctx.moveTo(a.x,a.y);lightBot.ctx.lineTo(f.x,f.y);lightBot.ctx.lineTo(c.x,c.y);lightBot.ctx.lineTo(d.x,d.y);lightBot.ctx.lineTo(a.x,a.y);lightBot.ctx.fill();lightBot.ctx.stroke();d=(1-this.currentAnimationFrame/30)*12.5;lightBot.ctx.fillStyle=this.lightOn?"#FEFBAF":"#4c81ff";a=b(this.x*50+d,this.getHeight()*50,this.y*50+d);f=b((this.x+1)*50-d,this.getHeight()*50,this.y*50+
d);c=b((this.x+1)*50-d,this.getHeight()*50,(this.y+1)*50-d);d=b(this.x*50+d,this.getHeight()*50,(this.y+1)*50-d);lightBot.ctx.beginPath();lightBot.ctx.moveTo(a.x,a.y);lightBot.ctx.lineTo(f.x,f.y);lightBot.ctx.lineTo(c.x,c.y);lightBot.ctx.lineTo(d.x,d.y);lightBot.ctx.lineTo(a.x,a.y);lightBot.ctx.fill()}})();(function(){lightBot.bot.animations={stand:{name:"stand",loop:false,totalFrames:1,step:10,duration:10,width:80,height:100,sX:0},walk:{name:"walk",loop:true,totalFrames:3,step:5,duration:20,width:80,height:100,sX:80},light:{name:"light",loop:true,totalFrames:2,step:3,duration:20,width:80,height:100,sX:480},jumpUp:{name:"jumpUp",loop:false,totalFrames:1,step:15,duration:15,width:80,height:100,sX:320},jumpDown:{name:"jumpDown",loop:false,totalFrames:1,step:15,duration:15,width:80,height:100,sX:400}}})();(function(){function b(a){g=a;e=d=0}function a(a,b,c){i.dX=a;i.dY=b;i.dZ=c}var f=true,c=new Image;c.src="img/sprites.png";var d=0,e=0,g=lightBot.bot.animations.stand,i={dX:0,dY:0,dZ:0},h=1;lightBot.bot.animate=function(c,d,e){f=false;switch(c.name){case lightBot.bot.instructions.WalkInstruction.instructionName:b(lightBot.bot.animations.walk);a((d.x-e.x)*lightBot.map.getMapRef()[d.x][d.y].getEdgeLength(),0,(d.y-e.y)*lightBot.map.getMapRef()[d.x][d.y].getEdgeLength());break;case lightBot.bot.instructions.JumpInstruction.instructionName:c=
(lightBot.map.getMapRef()[e.x][e.y].getHeight()-lightBot.map.getMapRef()[d.x][d.y].getHeight())*lightBot.map.getMapRef()[e.x][e.y].getEdgeLength();c>0?b(lightBot.bot.animations.jumpUp):c<0?b(lightBot.bot.animations.jumpDown):b(lightBot.bot.animations.jumpUp);a((d.x-e.x)*lightBot.map.getMapRef()[d.x][d.y].getEdgeLength(),c,(d.y-e.y)*lightBot.map.getMapRef()[d.x][d.y].getEdgeLength());break;case lightBot.bot.instructions.LightInstruction.instructionName:b(lightBot.bot.animations.light);break;case lightBot.bot.instructions.TurnLeftInstruction.instructionName:case lightBot.bot.instructions.TurnRightInstruction.instructionName:case lightBot.bot.instructions.RepeatInstruction.instructionName:break;
default:console.error('bot view animate: unknown animation "'+c.name+'"')}};lightBot.bot.step=function(){if(d>=g.duration||!lightBot.bot.isInExecutionMode())f=true,b(lightBot.bot.animations.stand),a(0,0,0);else{var c=Math.floor(d/g.step);e=g.loop?g.name==="walk"?c<g.totalFrames?c%g.totalFrames:(c+1)%(g.totalFrames-1)+1:c%g.totalFrames:Math.min(c,g.totalFrames-1);d+=h}};lightBot.bot.draw=function(){var a=d/g.duration*i.dX,b=d/g.duration*i.dY,f=d/g.duration*i.dZ;g.name==="jumpUp"&&(b=Math.pow(d/g.duration,
0.3)*i.dY);g.name==="jumpDown"&&(b=Math.pow(d/g.duration,4)*i.dY);a=lightBot.projection.project(this.currentPos.x*lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y].getEdgeLength()+(i.dX-a),lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y].getHeight()*lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y].getEdgeLength()+(-i.dY+b),this.currentPos.y*lightBot.map.getMapRef()[this.currentPos.x][this.currentPos.y].getEdgeLength()+(i.dZ-f));lightBot.ctx.drawImage(c,g.sX+
e*g.width,this.direction*g.height,g.width,g.height,Math.floor(a.x-g.width/2),Math.floor(a.y-g.height),g.width,g.height)};lightBot.bot.getAnimation=function(){return g};lightBot.bot.setAnimation=b;lightBot.bot.getCurrentStep=function(){return d};lightBot.bot.getMovement=function(){return i};lightBot.bot.setMovement=a;lightBot.bot.isReadyForNextInstruction=function(){return f};lightBot.bot.setSpeedMultiplier=function(a){a>=1&&a<=3&&(h=a)};lightBot.bot.getSpeedMultiplier=function(){return h}})();(function(){lightBot.Projection=function(b,a,f){this.project=function(c,d,e){return{x:a+0.707*c-0.707*e,y:b-(f+0.321*c+0.891*d+0.321*e)}}}})();(function(){lightBot.medals.display=function(b){$("#levelCompleteDialog .medal").removeClass("medal-gold medal-silver medal-bronze");switch(b){case lightBot.medals.gold:$("#levelCompleteDialog .medal").addClass("medal-gold");$("#levelCompleteDialog .message").html("");break;case lightBot.medals.silver:$("#levelCompleteDialog .medal").addClass("medal-silver");$("#levelCompleteDialog .message").html("Complete the level with "+lightBot.map.getMedals().gold+" instructions or less to receive a gold medal.");
break;case lightBot.medals.bronze:$("#levelCompleteDialog .medal").addClass("medal-bronze");$("#levelCompleteDialog .message").html("Complete the level with "+lightBot.map.getMedals().silver+" instructions or less to receive a silver medal.");break;case lightBot.medals.noMedal:$("#levelCompleteDialog .message").html("Complete the level with "+lightBot.map.getMedals().bronze+" instructions or less to receive a bronze medal.");break;default:console.error('Unknown medal "'+b+'"')}$("#levelCompleteDialog .nbrOfInstructions").html(lightBot.bot.getNumberOfInstructions());
$("#levelCompleteDialog").dialog("open")}})();(function(){var b=null;lightBot.achievements.display=function(a){a&&(b=a);b.length>0?(a=b.shift(),$("#achievementDialog .message").html(a.message),$("#achievementDialog").dialog("open")):b=null}})();$(document).ready(function(){canvasView($("#gameCanvas"))});(function(){if(window.supabase){var b=window.supabase.createClient("https://cbozwfxldpfrtvdxuttu.supabase.co","sb_publishable_CQSJMPLNDZOr47NkQQ58sg_JWlCnH9M");if(!window.lightBot)window.lightBot={};lightBot.community={publishMap:function(a,f){if(!a||!f)return Promise.resolve({error:"Missing map name or map data"});var c={name:a,map:f};return b.from("community_maps").insert(c).select("*").single().then(function(a){a.error&&console.error("Error publishing map to Supabase:",a.error);return a},function(a){console.error("Unexpected error while publishing map:",
a);return{data:null,error:a}})},listMaps:function(){return b.from("community_maps").select("id, name, created_at").order("created_at",{ascending:false}).then(function(a){a.error&&console.error("Error loading community maps:",a.error);return a},function(a){console.error("Unexpected error while loading community maps:",a);return{data:null,error:a}})},getMapById:function(a){return!a?Promise.resolve({error:"Missing map id"}):b.from("community_maps").select("id, name, map, created_at").eq("id",a).single().then(function(a){a.error&&
console.error("Error loading map by id from Supabase:",a.error);return a},function(a){console.error("Unexpected error while loading map by id:",a);return{data:null,error:a}})}}}else console.error("Supabase client library not found. Make sure the CDN script is included before lightbot.supabase.js")})();(function(){var b={width:9,height:8,tiles:[],spawn:{x:4,y:4,direction:0},tool:"block",canvas:null,ctx:null,projection:null,rotation:0,init:function(){if(this.canvas=$("#sandboxCanvas").get(0))this.ctx=this.canvas.getContext("2d"),this.projection=new lightBot.Projection(this.canvas.height,this.canvas.width/2,150),this.initTiles(this.width,this.height),this.updateProjectionForCenter(),this.bindUI(),this.draw()},initTiles:function(a,b){this.width=a;this.height=b;this.tiles=[];for(var c=0;c<b;c++){for(var d=
[],e=0;e<a;e++)d.push({h:0,t:"b"});this.tiles.push(d)}this.spawn={x:Math.floor(a/2),y:Math.floor(b/2),direction:0};this.updateProjectionForCenter()},updateProjectionForCenter:function(){if(this.canvas){var a=this.width*25,b=this.height*25,c=a,d=b;switch(this.rotation){case 1:c=b;d=-a;break;case 2:c=-a;d=-b;break;case 3:c=-b,d=a}this.projection=new lightBot.Projection(this.canvas.height,this.canvas.width/2-(0.707*c-0.707*d),this.canvas.height-this.canvas.height*0.55-(0.321*c+0.321*d))}},bindUI:function(){var a=
this;$("#toolBlockButton").button().click(function(){a.tool="block"});$("#toolLampButton").button().click(function(){a.tool="lamp"});$("#toolSpawnButton").button().click(function(){a.tool="spawn"});$("#sandboxResizeButton").button().click(function(){var b=parseInt($("#sandboxWidth").val(),10)||a.width,d=parseInt($("#sandboxHeight").val(),10)||a.height,b=Math.max(3,Math.min(12,b)),d=Math.max(3,Math.min(12,d));a.initTiles(b,d);a.draw()});$("#sandboxClearButton").button().click(function(){a.initTiles(a.width,
a.height);a.draw()});$("#sandboxSaveButton").button().click(function(){a.saveAsJSON()});$("#sandboxImportButton").button().click(function(){a.importFromJSON()});$("#sandboxPublishButton").button().click(function(){if(!window.lightBot||!lightBot.community||!lightBot.community.publishMap)alert("Community publishing is not available (missing Supabase client).");else{var b=window.prompt("Map name to publish:","My map");if(b){for(var d=false,f=0;f<a.height&&!d;f++)for(var g=0;g<a.width;g++){var i=a.tiles[f][g];
if(i&&i.h>0&&i.t==="l"){d=true;break}}if(d){var d=a.toMapObject(),h=$("#sandboxPublishButton");h.button("option","disabled",true);lightBot.community.publishMap(b,d).then(function(a){h.button("option","disabled",false);a&&!a.error&&a.data?alert("Map published successfully!"):alert("Error publishing map: "+(a&&a.error&&a.error.message||a&&a.error||"Unknown error"))})}else alert("The map must have at least one lamp to be published.")}}});$("#sandboxRotateLeftButton").button().click(function(){a.rotation=
(a.rotation+3)%4;a.updateProjectionForCenter();a.draw()});$("#sandboxRotateRightButton").button().click(function(){a.rotation=(a.rotation+1)%4;a.updateProjectionForCenter();a.draw()});$(document).keydown(function(b){var d=b.target&&b.target.tagName;if(!(d==="INPUT"||d==="TEXTAREA"))if(b.key==="1")a.tool="block",$("#toolBlockButton").focus();else if(b.key==="2")a.tool="lamp",$("#toolLampButton").focus();else if(b.key==="3")a.tool="spawn",$("#toolSpawnButton").focus();else if(b.key==="4")a.tool="erase"});
$(this.canvas).on("click",function(b){var d=a.canvas.getBoundingClientRect();a.handleClick(b.clientX-d.left,b.clientY-d.top)});var b=$("#sandboxCoordsOverlay");$(this.canvas).on("mousemove",function(c){if(b.length){var d=a.canvas.getBoundingClientRect();(c=a.pickTile(c.clientX-d.left,c.clientY-d.top))?(d=a.tiles[c.y][c.x],b.text("x: "+c.x+"  y: "+c.y+"  h: "+(d.h||0)+"  t: "+(d.t||"b")),b.show()):b.hide()}});$(this.canvas).on("mouseleave",function(){b.length&&b.hide()})},handleClick:function(a,b){var c=
this.pickTile(a,b);if(c){var d=c.x,c=c.y,e=this.tiles[c][d];if(this.tool==="block")e.h<=0?e.h=1:e.h+=1,e.t="b";else if(this.tool==="lamp"){if(e.h<=0)e.h=1;e.t="l"}else if(this.tool==="spawn")this.spawn.x=d,this.spawn.y=c,this.spawn.direction=parseInt($("#spawnDirectionSelect").val(),10)||0;else if(this.tool==="erase")e.h=0,e.t="b";this.draw()}},pickTile:function(a,b){for(var c=0;c<this.height;c++)for(var d=0;d<this.width;d++){var e=this.getTilePolygon(d,c,this.tiles[c][d].h);if(this.pointInPolygon(a,
b,e))return{x:d,y:c}}return null},getTilePolygon:function(a,b,c){var d=c*25,c=this.projectPoint(a*50,d,b*50),e=this.projectPoint((a+1)*50,d,b*50),g=this.projectPoint((a+1)*50,d,(b+1)*50),a=this.projectPoint(a*50,d,(b+1)*50);return[c,e,g,a]},pointInPolygon:function(a,b,c){for(var d=false,e=0,g=c.length-1;e<c.length;g=e++){var i=c[e].x,h=c[e].y,j=c[g].x,g=c[g].y;h>b!==g>b&&a<(j-i)*(b-h)/(g-h||1.0E-6)+i&&(d=!d)}return d},projectPoint:function(a,b,c){var d=a,e=c;switch(this.rotation){case 1:d=c;e=-a;
break;case 2:d=-a;e=-c;break;case 3:d=-c,e=a}return this.projection.project(d,b,e)},draw:function(){if(this.ctx){this.updateProjectionForCenter();this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);this.ctx.fillStyle="#6f8a99";this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height);for(var a=[],b=0;b<this.height;b++)for(var c=0;c<this.width;c++){var d=this.projectPoint(c*50+25,0,b*50+25);a.push({x:c,y:b,depth:d.y})}a.sort(function(a,b){return a.depth-b.depth});for(b=0;b<a.length;b++)c=
a[b],this.drawGroundTile(c.x,c.y),this.drawTile(c.x,c.y,this.tiles[c.y][c.x]);this.drawSpawn()}},drawGroundTile:function(a,b){this.ctx.strokeStyle="#445059";this.ctx.lineWidth=0.4;var c=this.projectPoint(a*50,0,b*50),d=this.projectPoint((a+1)*50,0,b*50),e=this.projectPoint((a+1)*50,0,b*50),g=this.projectPoint(a*50,0,b*50);this.ctx.fillStyle="#8a99a1";this.ctx.beginPath();this.ctx.moveTo(c.x,c.y);this.ctx.lineTo(d.x,d.y);this.ctx.lineTo(e.x,e.y);this.ctx.lineTo(g.x,g.y);this.ctx.closePath();this.ctx.fill();
this.ctx.stroke();c=this.projectPoint(a*50,0,b*50);d=this.projectPoint(a*50,0,b*50);e=this.projectPoint(a*50,0,(b+1)*50);g=this.projectPoint(a*50,0,(b+1)*50);this.ctx.fillStyle="#c4d4de";this.ctx.beginPath();this.ctx.moveTo(c.x,c.y);this.ctx.lineTo(d.x,d.y);this.ctx.lineTo(e.x,e.y);this.ctx.lineTo(g.x,g.y);this.ctx.closePath();this.ctx.fill();this.ctx.stroke();c=this.projectPoint(a*50,0,b*50);d=this.projectPoint((a+1)*50,0,b*50);e=this.projectPoint((a+1)*50,0,(b+1)*50);g=this.projectPoint(a*50,0,
(b+1)*50);this.ctx.fillStyle="#b2c2cc";this.ctx.beginPath();this.ctx.moveTo(c.x,c.y);this.ctx.lineTo(d.x,d.y);this.ctx.lineTo(e.x,e.y);this.ctx.lineTo(g.x,g.y);this.ctx.closePath();this.ctx.fill();this.ctx.stroke()},drawTile:function(a,b,c){if(!(c.h<=0)){var d=c.h*25,c=c.t==="l"?"#FFE545":"#c9d3d9";this.ctx.strokeStyle="#485256";this.ctx.lineWidth=0.5;var e=this.projectPoint(a*50,0,b*50),g=this.projectPoint((a+1)*50,0,b*50),i=this.projectPoint((a+1)*50,d,b*50),h=this.projectPoint(a*50,d,b*50);this.ctx.fillStyle=
"#adb8bd";this.ctx.beginPath();this.ctx.moveTo(e.x,e.y);this.ctx.lineTo(g.x,g.y);this.ctx.lineTo(i.x,i.y);this.ctx.lineTo(h.x,h.y);this.ctx.closePath();this.ctx.fill();this.ctx.stroke();e=this.projectPoint(a*50,0,b*50);g=this.projectPoint(a*50,d,b*50);i=this.projectPoint(a*50,d,(b+1)*50);h=this.projectPoint(a*50,0,(b+1)*50);this.ctx.fillStyle="#e5f0f5";this.ctx.beginPath();this.ctx.moveTo(e.x,e.y);this.ctx.lineTo(g.x,g.y);this.ctx.lineTo(i.x,i.y);this.ctx.lineTo(h.x,h.y);this.ctx.closePath();this.ctx.fill();
this.ctx.stroke();e=this.projectPoint(a*50,d,b*50);g=this.projectPoint((a+1)*50,d,b*50);i=this.projectPoint((a+1)*50,d,(b+1)*50);a=this.projectPoint(a*50,d,(b+1)*50);this.ctx.fillStyle=c;this.ctx.beginPath();this.ctx.moveTo(e.x,e.y);this.ctx.lineTo(g.x,g.y);this.ctx.lineTo(i.x,i.y);this.ctx.lineTo(a.x,a.y);this.ctx.closePath();this.ctx.fill();this.ctx.stroke()}},drawSpawn:function(){var a=this.projectPoint(this.spawn.x*50+25,Math.max(1,this.tiles[this.spawn.y][this.spawn.x].h)*25+10,this.spawn.y*
50+25);this.ctx.fillStyle="#00ff66";this.ctx.beginPath();this.ctx.arc(a.x,a.y,6,0,Math.PI*2,false);this.ctx.closePath();this.ctx.fill()},saveAsJSON:function(){var a=this.toMapObject(),a=JSON.stringify(a,null,2),a=new Blob([a],{type:"application/json"}),a=URL.createObjectURL(a),b=document.createElement("a");b.href=a;b.download="sapo_map_"+(new Date).toISOString().split("T")[0]+".json";document.body.appendChild(b);b.click();document.body.removeChild(b);URL.revokeObjectURL(a)},importFromJSON:function(){var a=
this,b=$('<input type="file" accept="application/json" style="display:none;">');$("body").append(b);b.on("change",function(c){if(c=c.target.files[0]){var d=new FileReader;d.onload=function(c){try{var d=JSON.parse(c.target.result);a.fromMapObject(d);a.draw()}catch(i){alert("Error loading JSON map: "+i.message)}b.remove()};d.readAsText(c)}else b.remove()});b.click()},toMapObject:function(){for(var a=[],b=this.height-1;b>=0;b--){for(var c=[],d=0;d<this.width;d++){var e=this.tiles[b][d];c.push({h:e.h>
0?e.h:0,t:e.t})}a.push(c)}return{direction:this.spawn.direction||0,position:{x:this.spawn.x,y:this.spawn.y},map:a,medals:{gold:0,silver:0,bronze:0}}},fromMapObject:function(a){if(!a||!a.map||!a.position)throw Error("Invalid map object");var b=a.map.length,c=a.map[0].length;this.width=c;this.height=b;this.tiles=[];for(var d=0;d<b;d++){for(var e=[],g=b-1-d,i=0;i<c;i++){var h=a.map[g][i];e.push({h:h&&h.h||0,t:h&&h.t||"b"})}this.tiles.push(e)}this.spawn={x:a.position&&a.position.x||0,y:a.position&&a.position.y||
0,direction:a.direction||0};$("#sandboxWidth").val(c);$("#sandboxHeight").val(b);$("#spawnDirectionSelect").val(String(this.spawn.direction))}};$(document).ready(function(){$("#sandboxCanvas").length&&b.init()});if(!window.lightBot)window.lightBot={};lightBot.sandbox=b})();
